# Orchestration Session State

**Status:** In Progress
**Started:** [timestamp]
**Session ID:** [generated on start]

---

## Problem Discovery

### Initial Statement
[User's original request or problem description]

### Root Cause Hypothesis
[Problem discovered through 5 Whys and Socratic questioning]

### Discovery Questions Asked
- [ ] Question 1 → Answer
- [ ] Question 2 → Answer
- [ ] Question 3 → Answer

### Problem Confirmed
- [ ] User agrees this is the actual problem
- [ ] We understand why original solution might not work
- [ ] Clear business value in solving this root cause

---

## Context Gathering

### Tech Stack Identified
- Language: [e.g., TypeScript]
- Framework: [e.g., React]
- Database: [e.g., PostgreSQL]
- Infrastructure: [e.g., AWS]

### Related Code Files Found
- [File path] - [Purpose/relevant pattern]
- [File path] - [Purpose/relevant pattern]

### Relevant Documentation
- [Link] - [What it covers]
- [Link] - [What it covers]

### Constraints & Requirements
- [Constraint 1]
- [Constraint 2]
- [Constraint 3]

---

## Prompt Refinement

### Iteration History

#### Round 1
- **Quality Score:** [0-100]
- **Gaps Identified:**
  - [ ] Gap 1
  - [ ] Gap 2
- **Refinements Made:**
  - [Refinement 1]
  - [Refinement 2]

#### Round 2
- **Quality Score:** [0-100]
- **Gaps Identified:** [None/List]
- **Refinements Made:** [List or "None - ready"]

### Final Prompt Quality
- **Score:** [0-100]
- **Grade:** [A/B/C/etc]
- **Ready for Execution:** [Yes/No]
- **Critical Gaps Remaining:** [None/List]

---

## Execution Planning

### Recommended Model
- **Model:** [Haiku/Sonnet/Opus]
- **Reasoning:** [Why this model]
- **Estimated Cost:** [$X.XX]
- **Confidence:** [60-95%]

### Alternative Models Considered
- [Model]: $X.XX (why not chosen)
- [Model]: $X.XX (why not chosen)

### User Override
- [ ] Override model? [If yes: which and why]
- [ ] Use two-tier fallback? [If yes: Haiku → Sonnet auto-retry]

---

## Metrics

### Process Efficiency
- **Discovery Iterations:** [N]
- **Refinement Iterations:** [N]
- **Total Tokens Used:** [estimate]
- **Session Duration:** [estimate]
- **Cost So Far:** [$X.XX for discovery/refinement]

### Quality Progression
- **Initial Problem Clarity:** [%]
- **Final Problem Clarity:** [%]
- **Context Completeness:** [%]
- **Prompt Quality Score:** [Final: 0-100]

---

## Notes & Decisions

[Any important decisions made during the process]

[Any blockers or interesting discoveries]

[User feedback on the orchestration process]

---

## Next Steps

- [ ] Review optimized prompt (state/ready-prompt.md)
- [ ] Confirm execution model selection
- [ ] Run /clear to wipe refinement conversation
- [ ] Begin execution phase with clean context
